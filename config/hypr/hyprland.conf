########################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
########################################################################################

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# autogenerated = 1 # remove this line to remove the warning

# START: -----------------------------------------------

# Environment-variables -----------------------------------------------
# See https://wiki.hyprland.org/Configuring/Environment-variables/

# - KDE and Gnome Keyring Fixes und Desktop Defaults (also in /etc/environment):
#env = QT_QPA_PLATFORM=wayland,xcb

env = TERM=kitty
env = TerminalEmulator=kitty
env = EDITOR=/usr/bin/nano
env = BROWSER=/usr/bin/firefox
env = MOZ_ENABLE_WAYLAND=1
env = SDL_VIDEODRIVER=wayland

env = _JAVA_AWT_WM_NONREPARENTING=1
env = XDG_CURRENT_DESKTOP=hyprland
env = QT_WAYLAND_DISABLE_WINDOWDECORATION=1
env = QT_QPA_PLATFORMTHEME=qt5ct
env = DESKTOP_SESSION=gnome

# Display-Settings: -----------------------------------------------
# See https://wiki.hyprland.org/Configuring/Monitors/
# monitor = DP-1,2560x1440@165,1080x260,1,transform,0
# ...

#Display-Extra-Configs:
misc {
   vrr = 1
   vfr = true
   #no_direct_scanout = 1
}

# Startup: -----------------------------------------------
# See https://wiki.hyprland.org/Configuring/Keywords/

# - UI:
exec-once = waybar

exec-once = sleep 3 && play '~/.config/shypr/Files/Audio/SFX/StartUp.wav'

# - Notification Daemon und Themes:
exec-once = systemctl --user import-environment &
            gsettings set org.gnome.desktop.interface gtk-theme 'Adwaita-dark' &
            gsettings set org.gnome.desktop.interface icon-theme 'Breeze Dark' &
            gsettings set org.gnome.desktop.interface cursor-theme 'Posy\'s Cursor Black' &
            test -e $SWAYSOCK.wob || mkfifo $SWAYSOCK.wob &
            tail -f $SWAYSOCK.wob | $wob &
            sleep 01 && swaync --style ~/.config/hypr/swaync/style.css --config ~/.config/hypr/swaync/config.json

# - Wallpaper:
exec-once = sleep 7 && sh ~/.config/hypr/mpvpaper/MPV_PAPER.sh

# - CopyPast Manager:
#exec-once = wl-paste --type text --watch cliphist store #Stores only text data
#exec-once = wl-paste --type image --watch cliphist store #Stores only image data
exec-once = wl-paste -t text --watch clipman store --no-persist

# - Mouse Curser:
exec-once = hyprctl setcursor Posy_Cursor_Black 13

# - Password Dialog:
#exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = /usr/libexec/polkit-kde-authentication-agent-1

# - Keyring:
exec-once = gnome-keyring-daemon --unlock

# - ScreenOff:
exec-once = swayidle -w timeout 600 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'
exec-once = swayidle -w timeout 720 'sh ~/.config/hypr/Scripts/Sleeper/Lock-Loader.sh ScreenIsOFF'

# - Tray Apps:
# exec-once = steam %U -silent
# ...

# Keyboard and Mouse Settings: -----------------------------------------------
# For all categories, see https://wiki.hyprland.org/Configuring/Variables/

input {
    kb_layout = us
    kb_variant =
    kb_model =
    #kb_options = grp:alt_shift_toggle
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

# Design: -----------------------------------------------
# Source a file (multi-file configs)
# source = ~/.config/hypr/myColors.conf

# - Colors:
source = ~/.config/hypr/color.conf

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 5
    gaps_out = 5
    border_size = 2
    col.active_border = $selected
    col.inactive_border = $unselected

    layout = dwindle
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    active_opacity = 1.0
    inactive_opacity = 0.95
    fullscreen_opacity = 1.0

    rounding = 10

    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)

    # New Blur-Section:
    blur {
        enabled = yes
        size = 5
        passes = 1
        new_optimizations = on
    }
}

animations {
    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    enabled = yes
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 4, wind, slide
    animation = windowsIn, 1, 4, winIn, slide
    animation = windowsOut, 1, 4, winOut, slide
    animation = windowsMove, 1, 4, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 10, default
    animation = workspaces, 1, 5, wind
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

# Window-Rules: -----------------------------------------------
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more

# - FloatWindowFixes:
windowrule = float, org.kde.polkit-kde-authentication-agent-1 #Usage
windowrule = float, kcalc #Usage
#windowrule = float, discover #Crash (plasma-discover was not working IDK...)
windowrule = float, kitty #Usage (Works without this too. Just making sure)

# - Firefox-Transparency Removed:
windowrule = opacity 1.0 override 1.0 override, firefox #Usage
windowrule = opacity 1.0 override 1.0 override, gamescope #Usage

# - OpenSUSE-Fixes:
# Root-Ask:
windowrulev2 = float,title:(xdg-su: )
windowrulev2 = move 40% 3%,title:(xdg-su: )
windowrulev2 = size 20% 7%,title:(xdg-su: )

# - Fixing Wine and Proton:
#_Linux:
windowrule = float, wine
windowrule = float, class:^(wine)$,class:^(.*)$
windowrule = float, proton
windowrule = float, wineserver
windowrule = float, winecfg
windowrule = float, class:^(proton)$
windowrule = float, class:^(wine)$
windowrule = float, gamescope
windowrule = float, title:^(Picture-in-Picture)(.*)$
#_EXE:
windowrule = move 0 0, title:^(\*.exe)(.*)$
windowrule = float, wine.exe
windowrule = float, proton.exe
windowrule = float, wineserver.exe
windowrule = float, winecfg.exe
#_IDK:
windowrulev2 = float, title:^(\*.exe), class:^(wineserver)$

# Keybinds: -----------------------------------------------
# See https://wiki.hyprland.org/Configuring/Keywords/ for more
# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more

# - Main-Hotkeys:
$mainMod = SUPER

# - Apps:
bind = $mainMod, T, exec, kitty
bind = $mainMod, F, exec, firefox
bind = $mainMod, D, exec, dolphin
bind = $mainMod, C, killactive, 
bind = $mainMod, M, exit
bind = $mainMod, V, togglefloating

# - AltTab:
bind = ALT, Tab, cyclenext, prev
bind = SHIFTALT, Tab, cyclenext
bind = ALT, Tab, bringactivetotop
bind = SHIFTALT, Tab, bringactivetotop

# - CopyPaste:
#bind = SUPER, X, exec, cliphist list | rofi -yoffset -500 -xoffset 970 -dmenu | cliphist decode | wl-copy

# - FullScreen:
bind = $mainMod, Q, fullscreen
 
# - AlwaysOnTop [Activ Window, Floating ONLY]:
bind = $mainMod, B, exec, hyprctl dispatch pin

# - LockScreen:
bind = $mainMod, L, exec, sh ~/.config/hypr/Scripts/Sleeper/Lock-Loader.sh

# - GamingMode:
bind = $mainMod, G, resizeactive, exact 4720 1440
bind = $mainMod, G, moveactive, exact 0 260
bind = $mainMod, G, exec, sh ~/.config/hypr/Scripts/GameMode/GameMode.sh "NotReset"
#_For 16:9 Games and GameMode Reset:
bind = $mainMod, H, exec, sh ~/.config/hypr/Scripts/GameMode/GameMode.sh 

# - Change Current Split Setup:
bind = $mainMod, mouse_down, togglesplit, # dwindle
bind = $mainMod, mouse_up, togglesplit, # dwindle

# - Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# - Media:
binde = , XF86AudioPlay, exec, playerctl play-pause 
binde = , XF86AudioNext, exec, playerctl next 
binde = , XF86AudioPrev, exec, playerctl previous

# - Volume control
#binde = $mainMod, Up, exec, pactl set-sink-volume @DEFAULT_SINK@ +2%
#binde = $mainMod, Down, exec, pactl set-sink-volume @DEFAULT_SINK@ -2%
#binde = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +2%
#binde = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -2%
binde = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle

# - Brightness control
#binde = , XF86MonBrightnessUp, exec, sudo light -A 5%
#binde = , XF86MonBrightnessDown, exec, sudo light -U 5%

# - Screenshot:
binde = , Print, exec, grim -g "$(slurp)" - | wl-copy